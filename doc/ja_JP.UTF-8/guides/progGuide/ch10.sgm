<!-- $XConsortium: ch10.sgm /main/6 1996/09/08 19:37:32 rws $ -->
<!-- (c) Copyright 1995 Digital Equipment Corporation. -->
<!-- (c) Copyright 1995 Hewlett-Packard Company. -->
<!-- (c) Copyright 1995 International Business Machines Corp. -->
<!-- (c) Copyright 1995 Sun Microsystems, Inc. -->
<!-- (c) Copyright 1995 Novell, Inc. -->
<!-- (c) Copyright 1995 FUJITSU LIMITED. -->
<!-- (c) Copyright 1995 Hitachi. -->
<Chapter Id="PG.calmg.div.1">
<Title Id="PG.calmg.mkr.1">カレンダとの統合</Title>
<Para>カレンダのアプリケーション・プログラム・インタフェース(API)は、ネットワーク環境でカレンダ・データにアクセスし、管理するためのプログラム的な方法を提供します。
APIは、項目の挿入、削除、変更だけでなく、ブラウズおよび検索機能もサポートします。また、カレンダ管理関数をサポートします。</Para>
<Para>カレンダAPIは、X.400 Application Programming Interface Association (XAPIA)のCalendaring and Scheduling API (CSA API)を実装しています。
<IndexTerm>
<Primary>CSA API</Primary>
</IndexTerm>CSA APIは、カレンダが有効なアプリケーションからカレンダおよびスケジュール・サービスのさまざまな機能へのアクセスを可能にする高水準の関数のセットを定義しています。
最新のXAPIA仕様の詳細については、X.400 API Association, 800 El Camino Real, Mountain View, California 94043に問い合わせてください。</Para>
<Para>この章では、以下の節でカレンダAPIを説明します。</Para>
<InformalTable Id="PG.calmg.itbl.1" Frame="All">
<TGroup Cols="1">
<ColSpec Colname="1" Colwidth="4.0 in">
<TBody>
<Row Rowsep="1">
<Entry><Para><!--Original XRef content: 'Library and Header Files140'-->
<XRef Role="JumpText" Linkend="PG.dndPG.mkr.3"></Para></Entry>
</Row>
<Row Rowsep="1">
<Entry><Para><!--Original XRef content: 'Demo Program140'-->
<XRef Role="JumpText" Linkend="PG.dndPG.mkr.4"></Para></Entry>
</Row>
<Row Rowsep="1">
<Entry><Para><!--Original XRef content: 'Using the Calendar API140'-->
<XRef Role="JumpText" Linkend="PG.calmg.mkr.4"></Para></Entry>
</Row>
<Row Rowsep="1">
<Entry><Para><!--Original XRef content: 'Overview of the CSA API140'-->
<XRef Role="JumpText" Linkend="PG.calmg.mkr.5"></Para></Entry>
</Row>
<Row Rowsep="1">
<Entry><Para><!--Original XRef content: 'Functional Architecture142'-->
<XRef Role="JumpText" Linkend="PG.calmg.mkr.8"></Para></Entry>
</Row>
<Row Rowsep="1">
<Entry><Para><!--Original XRef content: 'Data Structures149'-->
<XRef Role="JumpText" Linkend="PG.calmg.mkr.12"></Para></Entry>
</Row>
<Row Rowsep="1">
<Entry><Para><!--Original XRef content: 'Calendar Attributes150'-->
<XRef Role="JumpText" Linkend="PG.calmg.mkr.14"></Para></Entry>
</Row>
<Row Rowsep="1">
<Entry><Para><!--Original XRef content: 'Entry Attributes152'-->
<XRef Role="JumpText" Linkend="PG.calmg.mkr.16"></Para></Entry>
</Row>
<Row Rowsep="1">
<Entry><Para><!--Original XRef content: 'General Information about Functions155'-->
<XRef Role="JumpText" Linkend="PG.calmg.mkr.19"></Para></Entry>
</Row>
<Row Rowsep="1">
<Entry><Para><!--Original XRef content: 'Administration Functions157'-->
<XRef Role="JumpText" Linkend="PG.calmg.mkr.20"></Para></Entry>
</Row>
<Row Rowsep="1">
<Entry><Para><!--Original XRef content: 'Calendar Management Functions158'-->
<XRef Role="JumpText" Linkend="PG.calmg.mkr.21"></Para></Entry>
</Row>
<Row Rowsep="1">
<Entry><Para><!--Original XRef content: 'Entry Management Functions160'-->
<XRef Role="JumpText" Linkend="PG.calmg.mkr.22"></Para></Entry>
</Row>
</TBody>
</TGroup>
</InformalTable>
<Sect1 Id="PG.calmg.div.2">
<Title Id="PG.calmg.mkr.2">ライブラリとヘッダ・ファイル</Title>
<Para>カレンダAPIを使用するには、<Command><IndexTerm>
<Primary>&lt;Filename>libDtCalendar&lt;Default Para Font>ライブラリ</Primary>
</IndexTerm><IndexTerm>
<Primary>library&lt;Filename>libDtCalendar&lt;Default Para Font></Primary>
</IndexTerm>libcsa</Command>ライブラリをリンクする必要があります。ヘッダ・ファイルは、<Filename><IndexTerm>
<Primary>ヘッダ・ファイル</Primary>
<Secondary>&lt;Filename>Dt/xcsa.h&lt;Default Para Font></Secondary>
</IndexTerm><IndexTerm>
<Primary>&lt;Filename>Dt.Xcsa.h&lt;Default Para Font>ヘッダ・ファイル</Primary>
</IndexTerm><IndexTerm>
<Primary>カレンダ</Primary>
<Secondary>ヘッダ・ファイル</Secondary>
</IndexTerm>csa/csa.h</Filename>です。</Para>
</Sect1>
<Sect1 Id="PG.calmg.div.3">
<Title Id="PG.calmg.mkr.3">デモ・プログラム
<IndexTerm>
<Primary>カレンダ</Primary>
<Secondary>デモ・プログラム</Secondary>
</IndexTerm><IndexTerm>
<Primary>デモ・プログラム</Primary>
<Secondary>カレンダ</Secondary>
</IndexTerm></Title>
<Para>カレンダAPIの使用例を示すデモ・プログラムが、
<Filename>/usr/dt/examples/dtcalendar</Filename>にあります。</Para>
</Sect1>
<Sect1 Id="PG.calmg.div.4">
<Title Id="PG.calmg.mkr.4">カレンダAPIの使い方</Title>
<Sect2 Id="PG.calmg.div.5" Role="Procedure">
<Title>カレンダと統合するには</Title>
<Para>カレンダAPIは、ネットワーク環境でカレンダ・データにアクセスし、管理する方法を提供します。</Para>
<OrderedList>
<ListItem>
<Para>アプリケーションに<Filename>csa/csa.h</Filename>を組み込みます。
<IndexTerm>
<Primary>カレンダ</Primary>
<Secondary>ヘッダ・ファイル</Secondary>
</IndexTerm><IndexTerm>
<Primary>ヘッダ・ファイル、カレンダ</Primary>
</IndexTerm></Para>
</ListItem>
<ListItem>
<Para>カレンダAPIを使用して、アプリケーションの中で使いたいカレンダ操作を組み込みます。</Para>
</ListItem>
<ListItem>
<Para><Command>libcsa</Command>とリンクします。
<IndexTerm>
<Primary>カレンダ</Primary>
<Secondary>ライブラリ</Secondary>
</IndexTerm><IndexTerm>
<Primary>カレンダ</Primary>
<Secondary>カレンダ</Secondary>
</IndexTerm></Para>
</ListItem>
</OrderedList>
</Sect2>
</Sect1>
<Sect1 Id="PG.calmg.div.6">
<Title Id="PG.calmg.mkr.5">CSA APIの概要
<IndexTerm>
<Primary>CSA API、概要</Primary>
</IndexTerm></Title>
<Para>CSAインタフェースは、カレンダおよびスケジュール・サービスへの共通インタフェースを可能にします。
CSA実装のそれぞれについて、CSAによって与えられる表示と機能は、基本のカレンダ・サービスの表示と機能にマップされなければなりません。
インタフェースは、実際のカレンダおよびスケジュールの実装に依存しないように設計されています。
インタフェースは、また、カレンダ・サービスが使用するオペレーティング・システムと基本のハードウェアに依存しないように設計されています。</Para>
<Para>提供される関数呼び出しの数は、最小限のものです。一組の関数で複数の種類のカレンダ項目を管理します。</Para>
<Sect2 Id="PG.calmg.div.7">
<Title Id="PG.calmg.mkr.6">C の命名規則
<IndexTerm>
<Primary>CSA</Primary>
<Secondary>C の命名規則</Secondary>
</IndexTerm><IndexTerm>
<Primary>の命名規則、C</Primary>
</IndexTerm><IndexTerm>
<Primary>C の命名規則</Primary>
</IndexTerm><IndexTerm>
<Primary>カレンダ</Primary>
<Secondary>命名規則</Secondary>
</IndexTerm></Title>
<Para><!--Original XRef content: 'Table&numsp;10&hyphen;1'-->
<XRef Role="CodeOrFigureOrTable" Linkend="PG.calmg.mkr.7">に示すように、C インタフェースの要素の識別子は、要素の属性名とそれに関連するデータ型に由来します。
属性名には、テーブルの２番目の欄の文字列が接頭辞として付けられます。
英字は、３番目の欄の大文字または小文字に変換されます。</Para>
<Table Id="PG.calmg.tbl.1" Frame="Topbot">
<Title Id="PG.calmg.mkr.7"> C 命名規則の由来</Title>
<TGroup Cols="3">
<ColSpec Colname="1" Colwidth="3.09722 in">
<ColSpec Colname="2" Colwidth="1.125 in">
<ColSpec Colname="3" Colwidth="0.75 in">
<THead>
<Row>
<Entry><Para><Literal>要素の種類</Literal></Para></Entry>
<Entry><Para><Literal>接頭辞</Literal></Para></Entry>
<Entry><Para><Literal>大文字/小文字</Literal></Para></Entry>
</Row>
</THead>
<TBody>
<Row>
<Entry><Para>データ型</Para></Entry>
<Entry><Para><Filename>CSA_</Filename></Para></Entry>
<Entry><Para>小文字</Para></Entry>
</Row>
<Row>
<Entry><Para>データの値</Para></Entry>
<Entry><Para><Filename>CSA_</Filename></Para></Entry>
<Entry><Para>大文字</Para></Entry>
</Row>
<Row>
<Entry><Para>関数</Para></Entry>
<Entry><Para><Filename>csa_</Filename></Para></Entry>
<Entry><Para>小文字</Para></Entry>
</Row>
<Row>
<Entry><Para>関数の引き数</Para></Entry>
<Entry><Para><Command>なし</Command></Para></Entry>
<Entry><Para>小文字</Para></Entry>
</Row>
<Row>
<Entry><Para>関数の結果</Para></Entry>
<Entry><Para><Command>なし</Command></Para></Entry>
<Entry><Para>小文字</Para></Entry>
</Row>
<Row>
<Entry><Para>定数</Para></Entry>
<Entry><Para><Filename>CSA_</Filename></Para></Entry>
<Entry><Para>大文字</Para></Entry>
</Row>
<Row>
<Entry><Para>エラー</Para></Entry>
<Entry><Para><Filename>CSA_E_</Filename></Para></Entry>
<Entry><Para>大文字</Para></Entry>
</Row>
<Row>
<Entry><Para>マクロ</Para></Entry>
<Entry><Para><Filename>CSA_</Filename></Para></Entry>
<Entry><Para>大文字</Para></Entry>
</Row>
<Row>
<Entry><Para>拡張セットのために確保</Para></Entry>
<Entry><Para><Filename>CSA_XS_</Filename></Para></Entry>
<Entry><Para>大文字/小文字</Para></Entry>
</Row>
<Row>
<Entry><Para>拡張のために確保</Para></Entry>
<Entry><Para><Filename>CSA_X_</Filename></Para></Entry>
<Entry><Para>大文字/小文字</Para></Entry>
</Row>
<Row>
<Entry><Para>処理系作成者が使用するために確保</Para></Entry>
<Entry><Para><Command>CSAP</Command></Para></Entry>
<Entry><Para>大文字/小文字</Para></Entry>
</Row>
<Row>
<Entry><Para>ベンダ関数拡張のために確保</Para></Entry>
<Entry><Para>csa_x</Para></Entry>
<Entry><Para>小文字</Para></Entry>
</Row>
<Row>
<Entry><Para>構造体のタグ</Para></Entry>
<Entry><Para><Filename>CSA_TAG_</Filename></Para></Entry>
<Entry><Para>大文字</Para></Entry>
</Row>
</TBody>
</TGroup>
</Table>
<Para>接頭辞<Command>CSAP</Command>(大文字/小文字)がついている要素は、CSAサービスの実装の作成者が内部専用として使用するために確保されています。
CSAインタフェースによって書かれたプログラムが直接使用するためのものではありません。</Para>
<Para>接頭辞<Filename>CSA_XS_</Filename>、
<Filename>CSA_X_</Filename>(大文字/小文字)、および
<Filename>csa_x</Filename>は、ベンダまたはグループによるインタフェース拡張のために確保されています。仕様では、これらのインタフェース拡張は、基本関数セットの拡張として定義されています。</Para>
<Para>定数データ値の場合、定数データ値のデータ構造体または関数を示すために、通常、追加の文字列が<Filename>CSA_</Filename>に追加されます。</Para>
</Sect2>
</Sect1>
<Sect1 Id="PG.calmg.div.8">
<Title Id="PG.calmg.mkr.8">機能のアーキテクチャ
<IndexTerm>
<Primary>カレンダ</Primary>
<Secondary>アーキテクチャ</Secondary>
</IndexTerm></Title>
<Para>本節では、CSA APIをサポートしているサービスの機能のアーキテクチャを説明します。抽象実装モデル、抽象データ・モデル、および機能の概要を示します。</Para>
<Sect2 Id="PG.calmg.div.9">
<Title>実装モデル
<IndexTerm>
<Primary>CSA</Primary>
<Secondary>実装モデル</Secondary>
</IndexTerm><IndexTerm>
<Primary>実装モデル、CSA</Primary>
</IndexTerm></Title>
<Para>CSA APIの適用範囲が理解できるように、抽象実装モデルが用意されています。</Para>
<Para>CSAインタフェースは、カレンダが使用可能なアプリケーションとカレンダ・サービスの間に定義されます。
このインタフェースの機能はすべて、カレンダ・サービスに依存しないように設計されています。
ただし、このAPIでは、拡張の使用によって実行される共通関数のプロトコル固有の拡張は許されています。詳しくは、
<!--Original XRef content: '&xd2;Extensions'-->
<XRef Role="SectionTitle" Linkend="PG.calmg.mkr.11">を参照してください。
カレンダが使用可能なアプリケーションとカレンダ・サービスのCSAインタフェースの関係を
<!--Original XRef content: 'Figure&numsp;10&hyphen;1'-->
<XRef Role="CodeOrFigureOrTable" Linkend="PG.calmg.mkr.9">に示します。</Para>
<Figure>
<Title Id="PG.calmg.mkr.9">カレンダおよびスケジュールAPIの位置付け</Title>
<Graphic Entityref="PG.calmg.fig.1" Id="PG.calmg.grph.1"></Graphic>
</Figure>
<Para>CSA インタフェースのモデルは、管理、カレンダ管理、および項目管理という３つのコンポーネントに分けることができます。これらのコンポーネントを
<!--Original XRef content: 'Figure&numsp;10&hyphen;2'-->
<XRef Role="CodeOrFigureOrTable" Linkend="PG.calmg.mkr.10">に示します。</Para>
<Figure>
<Title Id="PG.calmg.mkr.10">カレンダおよびスケジュールAPIのコンポーネント
<IndexTerm>
<Primary>カレンダAPI</Primary>
<Secondary>コンポーネント</Secondary>
</IndexTerm></Title>
<Graphic Entityref="PG.calmg.fig.2" Id="PG.calmg.grph.2"></Graphic>
</Figure>
<Para>カレンダ・サービスへのアクセスは、カレンダ・セッションを通して確立されます。セッションは、カレンダ・サービスへの有効な接続のために用意され、サービスによって保持されるカレンダ情報の整合性の確保を支援します。
カレンダが使用可能なアプリケーションは、カレンダ・サービス内の個々のカレンダにログインして、有効なセッションまたは接続を確立します。
セッションは、カレンダが使用可能なアプリケーションからログアウトすることによって終了します。</Para>
<Para>カレンダ・サービスは、１つ以上のカレンダを保持します。
カレンダ・サービスは、これらのカレンダに対して、いくつかのレベルの管理サポートを提供します。
カレンダが使用可能なアプリケーションは、特定のカレンダ・サービスによって保持されるカレンダのリストにアクセスすることができます。
さらに、カレンダ・サービスにより、実装固有の永続的形式にカレンダ情報を保管したり、復元することができます。
カレンダ・サービスが複数のカレンダの保持をサポートする場合には、カレンダの作成と削除のためのサポート関数が定義されます。
また、カレンダの特性を管理するための関数が定義されます。</Para>
<Para>CSAインタフェースのほとんどの関数は、個々のカレンダ項目を管理します。
カレンダ項目は、イベント、予定、またはメモです。
項目は、特定のカレンダへの追加、削除、更新、および読み取りができます。
カレンダが使用可能なアプリケーションは、また、カレンダ項目に通知を追加することができます。</Para>
</Sect2>
<Sect2 Id="PG.calmg.div.10">
<Title>データ・モデル
<IndexTerm>
<Primary>カレンダAPI</Primary>
<Secondary>データ・モデル</Secondary>
</IndexTerm></Title>
<Para>CSA インタフェースは、カレンダ・サービスによって保持されるカレンダ情報の概念上のバックエンドの記憶領域へのアクセス方法です。
共通データ・モデルは、カレンダ・サービスによって保持されるカレンダ情報のコンポーネントを視覚化する際に役立ちます。</Para>
<Sect3 Id="PG.calmg.div.11">
<Title>カレンダ・エンティティ
<IndexTerm>
<Primary>カレンダ</Primary>
<Secondary>エンティティ</Secondary>
</IndexTerm><IndexTerm>
<Primary>エンティティ、カレンダ</Primary>
</IndexTerm><IndexTerm>
<Primary>2</Primary>
</IndexTerm></Title>
<Para>データ・モデルは、カレンダ・エンティティの概念に基づきます。
カレンダは、管理カレンダ属性とカレンダ項目の名前付きコレクションによって表されます。カレンダは、個々のユーザによって所有されます。
ユーザは、個人、グループ、またはリソースを表します。</Para>
<Para>カレンダ属性は、カレンダに関する共通、実装固有、またはアプリケーション固有の管理特性を表す名前付きの値のセットです。
たとえば、タイムゾーン、名前、所有者、およびカレンダへのアクセスの権利を、個々のカレンダ属性の中で指定することができます。</Para>
<Para>カレンダ項目は、カレンダの主要なコンポーネントです。
カレンダ項目の３つのクラスは、次のとおりです。</Para>
<ItemizedList Remap="Bullet1">
<ListItem>
<Para>イベント</Para>
</ListItem>
<ListItem>
<Para>予定</Para>
</ListItem>
<ListItem>
<Para>メモ</Para>
</ListItem>
</ItemizedList>
<Para>カレンダ項目は、固有な名前を付けられた項目属性のコレクションによって表されます。
項目属性は、カレンダ項目の共通、実装固有、またはアプリケーション固有の特性を表す名前付きの値のセットです。
たとえば、イベントには、開始と終了の日付と時間、説明、およびサブタイプを指定できます。
予定には、作成日、期限、優先順位、およびステータスを指定できます。
メモには、作成日とテキスト内容または説明を入れることができます。</Para>
<Para>カレンダ項目と項目属性は、名前、型、値の３つの組からなります。
仕様によって定義されている共通属性を拡張することができます。
実装によって、実装固有の属性を定義することができます。
また実装によっては、アプリケーションでアプリケーション固有の属性を定義するための機能を提供します。
CDEでは、アプリケーション定義の属性をサポートします。</Para>
</Sect3>
<Sect3 Id="PG.calmg.div.12">
<Title>アクセスの権利
<IndexTerm>
<Primary>カレンダ</Primary>
<Secondary>アクセスの権利</Secondary>
</IndexTerm><IndexTerm>
<Primary>アクセスの権利、カレンダ</Primary>
</IndexTerm></Title>
<Para>個々のユーザがカレンダにアクセスできるかどうかは、そのユーザに与えられるアクセスの権利によって制御されます。
アクセスの権利は、カレンダのユーザと対になっています。
CSAでは、ユーザは、個人、グループ、またはリソースです。
CDEでは、個々のユーザだけをサポートします。
アクセスの権利は、アクセス・リストで保持されます。
アクセス・リストは、特定のカレンダ属性です。
アクセスの権利は、個別に制御され、それを累積することによって、カレンダとその項目に対するユーザのアクセスの範囲を定義することができます。
アクセスの権利は、また、次のアクセスの役割の観点から指定することができます。</Para>
<ItemizedList Remap="Bullet1">
<ListItem>
<Para>カレンダの所有者</Para>
</ListItem>
<ListItem>
<Para>カレンダ内の特定の項目の主催者</Para>
</ListItem>
<ListItem>
<Para>カレンダ内の特定の項目のスポンサー</Para>
</ListItem>
</ItemizedList>
<Para>所有者の役割を与えられたユーザは、カレンダの所有者ができることであれば、カレンダまたはカレンダ項目に対して何でも行うことができます。
すなわち、カレンダの削除、カレンダ属性の表示、挿入、変更、カレンダ項目の追加と削除、項目属性の表示、挿入、変更ができます。</Para>
<Para>主催者の役割を与えられたユーザは、そのユーザが主催者として指定されたカレンダ項目に対して、項目の削除、または項目属性の表示と変更を行うことができます。
デフォルトでは、項目を作成したカレンダ・ユーザが主催者です。</Para>
<Para>スポンサーの役割を与えられたユーザは、そのユーザがスポンサーとして指定されたカレンダ項目に対して、項目の削除、または項目属性の表示と変更を行うことができます。スポンサーは、カレンダ項目を実質的に所有するカレンダ・ユーザです。</Para>
<Para>これらの役割に加えて、アクセスの権利の設定によって、公用、半私用、私用の分類に応じて、空き時間の検索へのアクセス、カレンダ属性の表示、挿入、または変更、項目の表示、挿入、または変更を制限することができます。
項目の分類はアクセスできるかどうかの二次フィルタとして機能します。</Para>
</Sect3>
</Sect2>
<Sect2 Id="PG.calmg.div.13">
<Title>機能の概要</Title>
<Para>CSA インタフェースは、主に３種類の作業をサポートします。</Para>
<ItemizedList Remap="Bullet1">
<ListItem>
<Para>管理</Para>
</ListItem>
<ListItem>
<Para>カレンダ管理</Para>
</ListItem>
<ListItem>
<Para>エントリ管理</Para>
</ListItem>
</ItemizedList>
<Sect3 Id="PG.calmg.div.14">
<Title>管理
<IndexTerm>
<Primary>カレンダ</Primary>
<Secondary>管理</Secondary>
</IndexTerm><IndexTerm>
<Primary>管理、カレンダ</Primary>
</IndexTerm></Title>
<Para>CSA関数呼び出しの大部分は、カレンダ・セッションの中で発生します。
カレンダ・セッションは、カレンダが使用可能なアプリケーションとカレンダ・サービスによって保持された特定のカレンダとの間の論理的な接続です。
セッションは、<Filename>csa_logon()</Filename>関数の呼び出しで確立され、
<Filename>csa_logoff()</Filename>関数の呼び出しで終了します。
セッションの状況は、セッション・ハンドルによって表されます。
このハンドルは、１つのカレンダ・セッションを他のセッションと見分けるためのトークンを各CSA関数の中で提供します。
<Filename>csa_logon()</Filename>関数は、また、カレンダ・サービスに対してユーザを認証し、セッション属性を設定します。
現時点では、アプリケーション間のカレンダ・セッションの共有はサポートされていません。</Para>
<Para><Filename>csa_list_calendars()</Filename>関数は、特定のカレンダ・サービスによって管理されるカレンダの名前をリストするために使用されます。</Para>
<Para><Filename>csa_query_configuration()</Filename>関数は、現在のカレンダ・サービスの構成に関する情報をリストするために使用されます。
この情報は、文字セット、テキスト文字列の行終了文字、デフォルトのサービス名、指定されたカレンダ・サービスのデフォルトの認証ユーザ識別子、ユーザ識別子を認証するためにパスワードが必要かどうかを示すインジケータ、ユーザ・インタフェース・ダイアログの共通拡張がサポートされるかどうかを示すインジケータ、および実装によってサポートされるCSA仕様などです。</Para>
<Para>CSAの実装では、サービスによって返されるカレンダ・オブジェクトおよび属性のためのメモリの管理をサポートします。
<Filename>csa_free()</Filename>関数は、このメモリが不要になったときに、解放するために使用されます。カレンダ・サービスによって割り当てられ、管理されるメモリを解放するのは、アプリケーションの責任です。</Para>
</Sect3>
<Sect3 Id="PG.calmg.div.15">
<Title>カレンダ管理
<IndexTerm>
<Primary>カレンダ</Primary>
<Secondary>カレンダ管理</Secondary>
</IndexTerm><IndexTerm>
<Primary>カレンダ管理</Primary>
</IndexTerm></Title>
<Para>CSAインタフェースは、いくつかのカレンダ管理関数を提供します。
CDEでは、１つのカレンダ・サービスにつき複数のカレンダをサポートします。
カレンダが使用可能なアプリケーションは、カレンダを追加したり、削除することができます。
<Filename>csa_delete_calendar()</Filename>関数は、カレンダを削除するために使用されます。
<Filename>csa_add_calendar()</Filename>関数は、サービスに新しいカレンダを追加するために使用されます。</Para>
<Para>アプリケーションは、また、
<Command>csa</Command>_<Filename>list_calendar_attributes()</Filename>、
<Filename>csa_read_calendar_attributes()</Filename>、および
<Filename>csa_update_calendar_attributes()</Filename>関数を使用して、カレンダ属性のリスト、読み取り、および更新を行うことができます。
アプリケーションは、カレンダ・ログイン、カレンダの削除、カレンダ属性の更新、新しいカレンダ項目の追加、カレンダ項目の削除、およびカレンダ項目の更新について通知を受けるためのコールバック関数を登録することができます。
コールバック関数は、カレンダ・セッションの継続中だけ登録されます。
いずれにせよ、この情報は、一部のカレンダ管理アプリケーションはにとっては貴重なものです。</Para>
</Sect3>
<Sect3 Id="PG.calmg.div.16">
<Title>エントリ管理
<IndexTerm>
<Primary>カレンダ</Primary>
<Secondary>項目管理</Secondary>
</IndexTerm><IndexTerm>
<Primary>項目管理、カレンダ</Primary>
</IndexTerm></Title>
<Para>CSA インタフェースは、カレンダ項目を管理するための強力な関数のセットを備えています。
カレンダ・セッション中のカレンダ項目の状況は、項目ハンドルによって保持されています。
このハンドルは、１つのカレンダ項目を他の項目と見分けるためのトークンを CSA 関数の中で提供します。
項目ハンドルは、<Filename>csa_add_entry()</Filename>および
<Command>csa</Command>_<Filename>list_entries()</Filename>関数によって返されます。項目ハンドルは、カレンダ・セッションの継続期間、あるいは項目が削除または更新されるまで有効です。
<Filename>csa_free()</Filename>の呼び出しによって解放されると、項目ハンドルは無効になります。</Para>
<Para><ComputerOutput>csa_</ComputerOutput><Filename>add_entry()</Filename>関数は、カレンダに新しい項目を追加するために使用されます。
<Filename>csa_delete_entry()</Filename>関数は、カレンダの中の項目を削除するために使用されます。
<Filename>csa_</Filename> <Filename>list_entries()</Filename>関数は、項目属性基準の特定のセット一致するカレンダ項目を列挙するために使用されます。
<Filename>csa_read_entry_attributes()</Filename>関数は、特定のカレンダ項目に関連するすべてまたは一組の項目属性値を取り出すために使用されます。</Para>
<Para>カレンダに項目を追加するには、カレンダが使用可能なアプリケーションは、まず、<Filename>csa_logon()</Filename>関数を使用して、カレンダ・サービスとのセッションを確立しなければなりません。
次に、アプリケーションは、<Filename>csa_add_entry()</Filename>関数を、新しい項目を指定するために実行します。
カレンダが使用可能なアプリケーションは、<Filename>csa_add_entry()</Filename>関数の中で使われる属性を組み立てる責任があります。
セッションの終了には、<Filename>csa_logoff()</Filename>関数が使用されます。</Para>
<Para>個々のカレンダ項目の中の項目属性は、<Filename>csa_list_entry_attributes()</Filename>関数で列挙することができます。
<Command>csa_</Command> <Filename>read_entry_attributes()</Filename>関数を使うと、１つ以上の属性の値を読み取ることができます。
個々の項目属性は、<Filename>csa_update_entry_attributes()</Filename>関数で変更することができます。</Para>
<Para>カレンダ情報を検索するためにCSAの実装によって割り当てられたメモリは、関連するメモリ・ポインタを<Filename>csa_free()</Filename>関数に渡すことによって解放されます。</Para>
<Para>再帰的活動に関連するカレンダ項目もあります。
<Filename>csa_list_entry_sequence()</Filename>関数を使うと、他の再帰的カレンダ項目を列挙することができます。
この関数は、再帰的項目の項目ハンドルのリストを返します。</Para>
<Para>CDE カレンダ・サーバは、カレンダ項目に関連付けられるアラームまたは通知のサポートをします。
通知は、端末のスピーカからの音声による通知、端末画面の点滅による通知、カレンダ・ユーザへのメール送信による通知、または端末画面にポップアップを表示することによる通知などの形を取ることができます。
カレンダ・サービスは通知を管理しますが、通知情報を検索し、それに対処するのはカレンダ・アプリケーションの責任です。
<Filename>csa_read_next_reminder()</Filename>関数は、次のスケジュール済みの通知に関する情報を読み込むために使用されます。</Para>
</Sect3>
</Sect2>
<Sect2 Id="PG.calmg.div.17">
<Title Id="PG.calmg.mkr.11">拡張
<IndexTerm>
<Primary>CSA</Primary>
<Secondary>拡張</Secondary>
</IndexTerm><IndexTerm>
<Primary>拡張、CSA</Primary>
</IndexTerm></Title>
<Para>CSA 仕様で定義されている大半のデータ構造と関数は、整然と拡張することができます。
拡張は、データ構造にフィールドを追加したり、関数呼び出しにパラメータを追加するために行われます。
これらの拡張のための標準的な汎用データ構造が定義されています。
それは、拡張を識別するコード、拡張データまたはデータ自体の長さを保持する項目データ、拡張値が格納されている場所を示す項目参照(関連する項目の格納領域がない場合には<Command>NULL</Command>)、および拡張のフラグから成ります。</Para>
<Para>関数呼び出しにパラメータを追加するような拡張を、入力または出力時に行うことができます。
すなわち、拡張は、アプリケーションからCSAサービスへの入力パラメータとして渡すことができ、または、CSAサービスからアプリケーションへの出力パラメータとして渡すこともできます。
拡張が入力パラメータの場合には、アプリケーションは、拡張構造体とその拡張に関連するその他の構造体のためのメモリを割り当てます。
拡張が出力パラメータの場合には、CSAサービスは、必要に応じて、拡張の結果のための記憶領域を割り当てます。
この場合、アプリケーションは、割り当てられた記憶領域を<Filename>csa_free()</Filename>呼び出しによって解放しなければなりません。</Para>
<Para>サポートされていない拡張が要求された場合には、
<Filename>CSA_E_UNSUPPORTED_FUNCTION_EXT</Filename>が返されます。</Para>
</Sect2>
</Sect1>
<Sect1 Id="PG.calmg.div.18">
<Title Id="PG.calmg.mkr.12">データ構造
<IndexTerm>
<Primary>カレンダ</Primary>
<Secondary>データ構造</Secondary>
</IndexTerm><IndexTerm>
<Primary>データ構造、カレンダ</Primary>
</IndexTerm></Title>
<Para><!--Original XRef content: 'Table&numsp;10&hyphen;2'-->
<XRef Role="CodeOrFigureOrTable" Linkend="PG.calmg.mkr.13">に、CSAデータ構造をリストします。詳しい説明については、関連するマニュアル・ページを参照してください。</Para>
<Table Id="PG.calmg.tbl.2" Frame="Topbot">
<Title Id="PG.calmg.mkr.13">CSAデータ構造</Title>
<TGroup Cols="2">
<ColSpec Colname="1" Colwidth="1.44643 in">
<ColSpec Colname="2" Colwidth="3.28737 in">
<THead>
<Row>
<Entry><Para><Literal>データ型の名前</Literal></Para></Entry>
<Entry><Para><Literal>説明</Literal></Para></Entry>
</Row>
</THead>
<TBody>
<Row>
<Entry><Para>Access List</Para></Entry>
<Entry><Para>カレンダ・ユーザのアクセスの権利構造体のリスト</Para></Entry>
</Row>
<Row>
<Entry><Para>Attendee List</Para></Entry>
<Entry><Para>出席者構造体のリスト</Para></Entry>
</Row>
<Row>
<Entry><Para>Attribute</Para></Entry>
<Entry><Para>属性構造体</Para></Entry>
</Row>
<Row>
<Entry><Para>Attribute Reference</Para></Entry>
<Entry><Para>属性参照構造体</Para></Entry>
</Row>
<Row>
<Entry><Para>Boolean</Para></Entry>
<Entry><Para>論理的なtrueまたはfalseを示す値</Para></Entry>
</Row>
<Row>
<Entry><Para>Buffer</Para></Entry>
<Entry><Para>データ項目のポインタ</Para></Entry>
</Row>
<Row>
<Entry><Para>Calendar User</Para></Entry>
<Entry><Para>カレンダ・ユーザ構造体</Para></Entry>
</Row>
<Row>
<Entry><Para>Callback Data Structures</Para></Entry>
<Entry><Para>コールバック・データ構造体</Para></Entry>
</Row>
<Row>
<Entry><Para>Date and Time</Para></Entry>
<Entry><Para>日付と時間の指定</Para></Entry>
</Row>
<Row>
<Entry><Para>Date and Time List</Para></Entry>
<Entry><Para>日付と時間の値のリスト</Para></Entry>
</Row>
<Row>
<Entry><Para>Date and Time Range</Para></Entry>
<Entry><Para>日付と時間の範囲</Para></Entry>
</Row>
<Row>
<Entry><Para>Entry Handle</Para></Entry>
<Entry><Para>カレンダ項目のハンドル</Para></Entry>
</Row>
<Row>
<Entry><Para>Enumerated</Para></Entry>
<Entry><Para>計算の値を含むデータ型</Para></Entry>
</Row>
<Row>
<Entry><Para>Extension</Para></Entry>
<Entry><Para>拡張構造体</Para></Entry>
</Row>
<Row>
<Entry><Para>Flags</Para></Entry>
<Entry><Para>ビット・マスクのコンテナ</Para></Entry>
</Row>
<Row>
<Entry><Para>Free Time</Para></Entry>
<Entry><Para>空き時間構造体</Para></Entry>
</Row>
<Row>
<Entry><Para>Opaque Data</Para></Entry>
<Entry><Para>不透明データ構造体</Para></Entry>
</Row>
<Row>
<Entry><Para>Reminder</Para></Entry>
<Entry><Para>通知構造体</Para></Entry>
</Row>
<Row>
<Entry><Para>Reminder Reference</Para></Entry>
<Entry><Para>通知参照構造体</Para></Entry>
</Row>
<Row>
<Entry><Para>Return Code</Para></Entry>
<Entry><Para>関数が成功したこと、または失敗した理由を示す戻り値</Para></Entry>
</Row>
<Row>
<Entry><Para>Service Reference</Para></Entry>
<Entry><Para>サービス参照構造体</Para></Entry>
</Row>
<Row>
<Entry><Para>Session Handle</Para></Entry>
<Entry><Para>カレンダ・セッションのハンドル</Para></Entry>
</Row>
<Row>
<Entry><Para>String</Para></Entry>
<Entry><Para>文字列ポインタ</Para></Entry>
</Row>
<Row>
<Entry><Para>Time Duration</Para></Entry>
<Entry><Para>継続時間</Para></Entry>
</Row>
</TBody>
</TGroup>
</Table>
</Sect1>
<Sect1 Id="PG.calmg.div.19">
<Title Id="PG.calmg.mkr.14">カレンダ属性
<IndexTerm>
<Primary>カレンダ</Primary>
<Secondary>属性</Secondary>
</IndexTerm><IndexTerm>
<Primary>属性、カレンダ</Primary>
</IndexTerm></Title>
<Para><!--Original XRef content: 'Table&numsp;10&hyphen;3'-->
<XRef Role="CodeOrFigureOrTable" Linkend="PG.calmg.mkr.15">に、CDEでサポートされるカレンダ属性をリストします。
詳しくは、関連するマニュアル・ページを参照してください。
カレンダ属性のリストは、拡張命名規則による拡張が可能です。</Para>
<Table Id="PG.calmg.tbl.3" Frame="Topbot">
<Title Id="PG.calmg.mkr.15">CSAカレンダ属性</Title>
<TGroup Cols="3">
<ColSpec Colname="1" Colwidth="1.27689 in">
<ColSpec Colname="2" Colwidth="2.19996 in">
<ColSpec Colname="3" Colwidth="1.25926 in">
<THead>
<Row>
<Entry><Para><Literal>属性名</Literal></Para></Entry>
<Entry><Para><Literal>説明</Literal></Para></Entry>
<Entry><Para><Literal>読み取り専用</Literal></Para></Entry>
</Row>
</THead>
<TBody>
<Row>
<Entry><Para>Access List</Para></Entry>
<Entry><Para>アクセス・リスト属性Access list attribute</Para></Entry>
<Entry><Para>×</Para></Entry>
</Row>
<Row>
<Entry><Para>Calendar Name</Para></Entry>
<Entry><Para>カレンダ名属性</Para></Entry>
<Entry><Para>○</Para></Entry>
</Row>
<Row>
<Entry><Para>Calendar Owner</Para></Entry>
<Entry><Para>カレンダ所有者属性</Para></Entry>
<Entry><Para>○</Para></Entry>
</Row>
<Row>
<Entry><Para>Calendar Size</Para></Entry>
<Entry><Para>(計算された)カレンダ・サイズ属性</Para></Entry>
<Entry><Para>○</Para></Entry>
</Row>
<Row>
<Entry><Para>Character Set</Para></Entry>
<Entry><Para>文字セット属性</Para></Entry>
<Entry><Para>×</Para></Entry>
</Row>
<Row>
<Entry><Para>Date Created</Para></Entry>
<Entry><Para>カレンダ作成日付属性</Para></Entry>
<Entry><Para>○</Para></Entry>
</Row>
<Row>
<Entry><Para>Number Entries</Para></Entry>
<Entry><Para>(計算された)項目属性の数</Para></Entry>
<Entry><Para>○</Para></Entry>
</Row>
<Row>
<Entry><Para>Product Identifier</Para></Entry>
<Entry><Para>製品識別子属性</Para></Entry>
<Entry><Para>○</Para></Entry>
</Row>
<Row>
<Entry><Para>Time Zone</Para></Entry>
<Entry><Para>タイムゾーン属性</Para></Entry>
<Entry><Para>×No</Para></Entry>
</Row>
<Row>
<Entry><Para>Version</Para></Entry>
<Entry><Para>製品バージョン属性</Para></Entry>
<Entry><Para>○</Para></Entry>
</Row>
</TBody>
</TGroup>
</Table>
<Para>次の節では、
<!--Original XRef content: 'Table&numsp;10&hyphen;3'-->
<XRef Role="CodeOrFigureOrTable" Linkend="PG.calmg.mkr.15">にリストしたカレンダ属性について、追加の情報を提供します。</Para>
<ItemizedList Remap="Bullet1">
<ListItem>
<Para><Command>Access List</Command></Para>
<Para>新しいカレンダが追加されるときにアクセス・リストが指定されなかった場合には、デフォルトのアクセス・リストには
特殊ユーザ<Emphasis>world</Emphasis>が指定され、それに対応するアクセスの権利は
<Filename>CSA_VIEW_PUBLIC_ENTRIES</Filename>になります。
これは、公用のカレンダ・エントリのリストと読み取りのアクセスの権利を与えます。
特殊ユーザ<Emphasis>world</Emphasis>には、すべてのユーザが含まれます。</Para>
</ListItem>
<ListItem>
<Para><Command>Calendar Name</Command></Para>
<Para>カレンダ名は、<Filename>csa_add_calendar()</Filename>によってカレンダが作成されるときに指定されます。
読み取り専用であり、カレンダの作成後に変更することはできません。</Para>
</ListItem>
<ListItem>
<Para><Command>Calendar Owner</Command></Para>
<Para>カレンダ所有者は、<Command>csa_add_calendar()</Command>を呼び出してカレンダを作成するアプリケーションを実行しているユーザに設定されます。
読み取り専用であり、カレンダの作成後に変更することはできません。</Para>
</ListItem>
<ListItem>
<Para><Command>Character Set</Command></Para>
<Para>この値の読み取り設定には、CDE 共通ロケール名が使用されます。</Para>
</ListItem>
</ItemizedList>
<Sect2 Id="PG.calmg.div.20">
<Title>CDEカレンダ属性</Title>
<Para>CDE定義済みカレンダ属性は、次のとおりです。</Para>
<ItemizedList Remap="Bullet1">
<ListItem>
<Para><Command>Server Version</Command></Para>
<Para>この読み取り専用の属性は、カレンダを管理しているサーバのバージョン番号を示します。
この属性は、<Filename>CSA_VALUE_UINT32</Filename>型の属性です。</Para>
</ListItem>
<ListItem>
<Para><Command>Data Version</Command></Para>
<Para>この読み取り専用の属性は、カレンダのデータ・バージョンを示します。
この属性は、<Command>CSA_VALUE_UINT32</Command>型の属性です。</Para>
</ListItem>
</ItemizedList>
</Sect2>
</Sect1>
<Sect1 Id="PG.calmg.div.21">
<Title Id="PG.calmg.mkr.16">項目属性
<IndexTerm>
<Primary>カレンダ</Primary>
<Secondary>項目属性</Secondary>
</IndexTerm><IndexTerm>
<Primary>項目属性、カレンダ</Primary>
</IndexTerm></Title>
<Para><!--Original XRef content: 'Table&numsp;10&hyphen;4'-->
<XRef Role="CodeOrFigureOrTable" Linkend="PG.calmg.mkr.17">に、CDEでサポートされる項目属性をリストします。
詳しくは、関連するマニュアル・ページを参照して下さい。
項目属性のリストは、拡張命名規則による拡張が可能です。</Para>
<Table Id="PG.calmg.tbl.4" Frame="Topbot">
<Title Id="PG.calmg.mkr.17">CSA 項目属性</Title>
<TGroup Cols="3">
<ColSpec Colname="1" Colwidth="1.22686 in">
<ColSpec Colname="2" Colwidth="1.7523 in">
<ColSpec Colname="3" Colwidth="1.78009 in">
<THead>
<Row>
<Entry><Para><Literal>属性名</Literal></Para></Entry>
<Entry><Para><Literal>説明</Literal></Para></Entry>
<Entry><Para><Literal>読み取り専用</Literal></Para></Entry>
</Row>
</THead>
<TBody>
<Row>
<Entry><Para>Audio Reminder</Para></Entry>
<Entry><Para>音声通知属性</Para></Entry>
<Entry><Para>×</Para></Entry>
</Row>
<Row>
<Entry><Para>Classification</Para></Entry>
<Entry><Para>分類属性</Para></Entry>
<Entry><Para>×</Para></Entry>
</Row>
<Row>
<Entry><Para>Date Completed</Para></Entry>
<Entry><Para>完了日付属性</Para></Entry>
<Entry><Para>×</Para></Entry>
</Row>
<Row>
<Entry><Para>Date Created</Para></Entry>
<Entry><Para>項目作成日付属性</Para></Entry>
<Entry><Para>○</Para></Entry>
</Row>
<Row>
<Entry><Para>Description</Para></Entry>
<Entry><Para>説明属性</Para></Entry>
<Entry><Para>×</Para></Entry>
</Row>
<Row>
<Entry><Para>Due Date</Para></Entry>
<Entry><Para>期限属性</Para></Entry>
<Entry><Para>×</Para></Entry>
</Row>
<Row>
<Entry><Para>End Date</Para></Entry>
<Entry><Para>終了日付属性</Para></Entry>
<Entry><Para>×</Para></Entry>
</Row>
<Row>
<Entry><Para>Exception Dates</Para></Entry>
<Entry><Para>例外日付属性E</Para></Entry>
<Entry><Para>×</Para></Entry>
</Row>
<Row>
<Entry><Para>Flashing Reminder</Para></Entry>
<Entry><Para>点滅通知属性</Para></Entry>
<Entry><Para>×</Para></Entry>
</Row>
<Row>
<Entry><Para>Last Update</Para></Entry>
<Entry><Para>前回更新属性</Para></Entry>
<Entry><Para>○</Para></Entry>
</Row>
<Row>
<Entry><Para>Mail Reminder</Para></Entry>
<Entry><Para>メール通知属性</Para></Entry>
<Entry><Para>×</Para></Entry>
</Row>
<Row>
<Entry><Para>Number
Recurrences</Para></Entry>
<Entry><Para>(計算された)反復属性の数</Para></Entry>
<Entry><Para>○</Para></Entry>
</Row>
<Row>
<Entry><Para>Organizer</Para></Entry>
<Entry><Para>編成者属性</Para></Entry>
<Entry><Para>○</Para></Entry>
</Row>
<Row>
<Entry><Para>Popup Reminder</Para></Entry>
<Entry><Para>ポップアップ通知属性</Para></Entry>
<Entry><Para>×</Para></Entry>
</Row>
<Row>
<Entry><Para>Priority</Para></Entry>
<Entry><Para>優先順位属性</Para></Entry>
<Entry><Para>×</Para></Entry>
</Row>
<Row>
<Entry><Para>Recurrence Rule</Para></Entry>
<Entry><Para>反復規則属性</Para></Entry>
<Entry><Para>×</Para></Entry>
</Row>
<Row>
<Entry><Para>Reference
Identifier</Para></Entry>
<Entry><Para>参照識別子属性</Para></Entry>
<Entry><Para>○</Para></Entry>
</Row>
<Row>
<Entry><Para>Sponsor</Para></Entry>
<Entry><Para>スポンサー属性</Para></Entry>
<Entry><Para>×</Para></Entry>
</Row>
<Row>
<Entry><Para>Start Date</Para></Entry>
<Entry><Para>開始日付属性</Para></Entry>
<Entry><Para>×</Para></Entry>
</Row>
<Row>
<Entry><Para>Status</Para></Entry>
<Entry><Para>ステータス属性</Para></Entry>
<Entry><Para>×</Para></Entry>
</Row>
<Row>
<Entry><Para>Subtype</Para></Entry>
<Entry><Para>サブタイプ属性</Para></Entry>
<Entry><Para>×</Para></Entry>
</Row>
<Row>
<Entry><Para>Summary</Para></Entry>
<Entry><Para>要約属性</Para></Entry>
<Entry><Para>×</Para></Entry>
</Row>
<Row>
<Entry><Para>Transparency</Para></Entry>
<Entry><Para>時間の透過性またはブロック化属性</Para></Entry>
<Entry><Para>×</Para></Entry>
</Row>
<Row>
<Entry><Para>Type</Para></Entry>
<Entry><Para>型属性</Para></Entry>
<Entry><Para>○</Para></Entry>
</Row>
</TBody>
</TGroup>
</Table>
<Para>次の節では、
<!--Original XRef content: 'Table&numsp;10&hyphen;4'-->
<XRef Role="CodeOrFigureOrTable" Linkend="PG.calmg.mkr.17">にリストした項目属性について、追加の情報を提供します。</Para>
<ItemizedList Remap="Bullet1">
<ListItem>
<Para><Command>Organizer</Command></Para>
<Para>項目の主催者は、<Filename>csa_add_entry()</Filename>を呼び出してカレンダに項目を追加するアプリケーションを実行しているユーザに設定されます。
読み取り専用であり、項目の追加後に変更することはできません。</Para>
</ListItem>
<ListItem>
<Para><Command>Reference Identifier</Command></Para>
<Para>項目の参照識別子は、カレンダ内の項目の固有な識別子と、カレンダの名前と位置を含んだ文字列です。
形式は<Filename>n:calendar@location</Filename>です。
<Command>n</Command>は、カレンダ内の項目を固有に識別する番号です。
<Command>calendar</Command>は、カレンダの名前です。
<Command>location</Command>は、カレンダが格納されているマシンの名前です。</Para>
</ListItem>
<ListItem>
<Para><Command>Status</Command></Para>
<Para>CDE では、次の追加のステータス値を定義します。</Para>
<Para><Filename>CSA_X_DT_STATUS_ACTIVE</Filename></Para>
<Para><Filename>CSA_X_DT_STATUS_DELETE_PENDING</Filename></Para>
<Para><Filename>CSA_X_DT_STATUS_ADD_PENDING</Filename></Para>
<Para><Filename>CSA_X_DT_STATUS_COMMITTED</Filename></Para>
<Para><Filename>CSA_X_DT_STATUS_CANCELLED</Filename></Para>
</ListItem>
<ListItem>
<Para><Command>Type</Command></Para>
<Para>この値は読み取り専用であり、項目の追加後に変更することはできません。
CDE では、次の追加の型を定義します。</Para>
<Para><Filename>CSA_X_DT_TYPE_OTHER</Filename></Para>
</ListItem>
</ItemizedList>
<Sect2 Id="PG.calmg.div.22">
<Title>CDEエントリ属性</Title>
<Para>CDE定義済み属性は、次のとおりです。</Para>
<ItemizedList Remap="Bullet1">
<ListItem>
<Para><Command>Show Time</Command></Para>
<Para>この属性の値は、項目の開始時間と終了時間をユーザに対して表示するかどうかを示します。
<Filename>csa_update_entry_attributes()</Filename>により変更できます。
この属性は、<Filename>CSA_VALUE_SINT32</Filename>型の属性です。</Para>
</ListItem>
<ListItem>
<Para><Command>Repeat Type</Command></Para>
<Para>項目の反復の頻度、すなわち、どれくらいの間隔で項目を繰り返すかを示します。これは読み取り専用の属性であり、項目属性<Command>Recurrence Rule</Command>から得られます。</Para>
<Para>この属性は、<Filename>CSA_VALUE_UINT32</Filename>型の属性です。</Para>
<Para>次の値が定義されています。</Para>
<Para><Filename>CSA_X_DT_REPEAT_ONETIME</Filename></Para>
<Para><Filename>CSA_X_DT_REPEAT_DAILY</Filename></Para>
<Para><Filename>CSA_X_DT_REPEAT_WEEKLY</Filename></Para>
<Para><Filename>CSA_X_DT_REPEAT_BIWEEKLY</Filename></Para>
<Para><Filename>CSA_X_DT_REPEAT_MONTHLY_BY_WEEKDAY</Filename></Para>
<Para><Filename>CSA_X_DT_REPEAT_MONTHLY_BY_DATE</Filename></Para>
<Para><Filename>CSA_X_DT_REPEAT_YEARLY</Filename></Para>
<Para><Filename>CSA_X_DT_REPEAT_EVERY_NDAY</Filename></Para>
<Para><Filename>CSA_X_DT_REPEAT_EVERY_NWEEK</Filename></Para>
<Para><Filename>CSA_X_DT_REPEAT_EVERY_NMONTH</Filename></Para>
<Para><Filename>CSA_X_DT_REPEAT_MON_TO_FRI</Filename></Para>
<Para><Filename>CSA_X_DT_REPEAT_MONWEDFRI</Filename></Para>
<Para><Filename>CSA_X_DT_REPEAT_TUETHUR</Filename></Para>
<Para><Filename>CSA_X_DT_REPEAT_WEEKDAYCOMBO</Filename></Para>
<Para><Command>CSA_X_DT_REPEAT_OTHER</Command></Para>
<Para><Filename>CSA_X_DT_REPEAT_OTHER_WEEKLY</Filename></Para>
<Para><Filename>CSA_X_DT_REPEAT_OTHER_MONTHLY</Filename></Para>
<Para><Filename>CSA_X_DT_REPEAT_OTHER_YEARLY</Filename></Para>
</ListItem>
<ListItem>
<Para><Command>Repeat Times</Command></Para>
<Para>この属性は、項目を繰り返す回数を示します。
これは読み取り専用の属性であり、項目属性<Command>Recurrence Rule</Command>から得られます。
この属性は、<Command>CSA_VALUE_UINT32</Command>型の属性です。</Para>
</ListItem>
<ListItem>
<Para><Command>Repeat Interval</Command></Para>
<Para>この属性は、Repeat Typeの
<Command>CSA_X_DT_REPEAT_EVERY_NDAY、 CSA_X_DT_REPEAT_EVERY_NWEEK</Command>、
または<Command>CSA_X_DT_REPEAT_EVERY_NMONTH</Command>の何倍で項目を繰り返すかを示します。
これは読み取り専用の属性であり、項目属性<Command>Recurrence Rule</Command>から得られます。
たとえば、この属性の値が３であり、Repeat Typeが<Filename>CSA_X_DT_REPEAT_EVERY_NWEEK</Filename>の場合には、項目は３週間ごとに繰り返されます。
この属性は、<Filename>CSA_VALUE_UINT32</Filename>型の属性です。</Para>
</ListItem>
<ListItem>
<Para><Command>Repeat Occurrence Number</Command></Para>
<Para>項目の、Repeat Typeが
<Filename>CSA_X_DT_REPEAT_MONTHLY_BY_WEEKDAY</Filename>の場合、この属性は、項目を繰り返す週を示します。
これは読み取り専用の属性であり、
項目属性<Command>Recurrence Rule</Command>から得られます。
この属性は、<Filename>CSA_VALUE_SINT32</Filename>型の属性です。</Para>
</ListItem>
<ListItem>
<Para><Command>Sequence End Date</Command></Para>
<Para Id="PG.calmg.mkr.18">この項目属性は、シーケンスの終了日付を示します。
これは読み取り専用の属性であり、
項目属性<Command>Recurrence Rule</Command>から得られます。
この属性は、<Filename>CSA_VALUE_DATE_TIME</Filename>型の属性です。</Para>
</ListItem>
</ItemizedList>
</Sect2>
</Sect1>
<Sect1 Id="PG.calmg.div.23">
<Title Id="PG.calmg.mkr.19">関数についての一般的な情報</Title>
<Para>次の一般的な情報は、すべての関数に適用されます。</Para>
<ItemizedList Remap="Bullet1">
<ListItem>
<Para>文字セットの制限</Para>
<Para>カレンダ属性<Filename>CSA_CAL_ATTR_CHARACTER_SET</Filename>は、カレンダのロケール情報を格納するために使用されます。</Para>
<Note>
<Para>ライブラリの中で渡されるテキストでの説明以外のデータはすべて、ASCII形式でなければなりませんが、ライブラリはシングルバイトだけでなくマルチバイト文字列もサポートします。</Para>
</Note>
</ListItem>
<ListItem>
<Para>属性値の型チェックは、事前定義済み属性に対してだけ行われます。</Para>
</ListItem>
<ListItem>
<Para>関数がセッション・ハンドルと項目ハンドルの両方を取るときには、セッション・ハンドルは、CDEでは常に無視されます。</Para>
</ListItem>
<ListItem>
<Para>項目属性<Filename>CSA_ENTRY_ATTR_RECURRENCE_RULE</Filename>と
<Filename>CSA_ENTRY_ATTR_EXCEPTION_DATES</Filename>は、カレンダ項目の反復情報を指定するために使用されます。
<Filename>CSA_ENTRY_ATTR_RECURRENCE_RULE</Filename>属性の情報は、次の属性を使用して問い合わせることができます。
<Filename>CSA_X_DT_ENTRY_ATTR_REPEAT_TYPE</Filename>、
<Filename>CSA_X_DT_ENTRY_ATTR_REPEAT_TIMES</Filename>、
<Filename>CSA_X_DT_ENTRY_ATTR_REPEAT_INTERVAL</Filename>、
<Filename>CSA_X_DT_ENTRY_ATTR_REPEAT_OCCURRENCE_NUM</Filename>、および
<Filename>CSA_X_DT_ENTRY_ATTR_SEQUENCE_END_DATE</Filename>。
これらの計算された属性は、読み取り専用です。</Para>
</ListItem>
<ListItem>
<Para><Filename>CSA_calendar_user</Filename>データ構造体は、ユーザまたはカレンダを指定します。
前者の場合、たとえば、アクセス・リスト内のユーザを指定するときには、<Filename>user_name</Filename>フィールドだけが使われ、他のフィールドはすべて無視されます。
後者の場合、たとえば、ログインするカレンダを指定するときには、
<Filename>calendar_address</Filename>フィールドだけが使われ、他のフィールドはすべて無視されます。
形式は<Filename>calendar@location</Filename>です。
<Command>calendar</Command>はカレンダの名前であり、
<Command>location</Command>はカレンダが格納されているマシンの名前です。</Para>
</ListItem>
<ListItem>
<Para>値の型が<Command>CSA_VALUE_ATTENDEE_LIST</Command>の属性はサポートされず、それらが指定された場合には
<Filename>CSA_E_INVALID_ATTRIBUTE_VALUE</Filename>が返されます。</Para>
</ListItem>
<ListItem>
<Para><Filename>CSA_reminder</Filename>データ構造体の中の
<Filename>repeat_count</Filename>フィールドと
<Filename>snooze_time</Filename>フィールドはカレンダに格納されますが、
カレンダ・サービスはそれらの値を解釈せず、関連する通知はサーバによって一度しか返されません。</Para>
</ListItem>
<ListItem>
<Para>ユーザ・インタフェース拡張<Filename>CSA_X_UI_ID_EXT</Filename>はサポートされていません。</Para>
</ListItem>
</ItemizedList>
</Sect1>
<Sect1 Id="PG.calmg.div.24">
<Title Id="PG.calmg.mkr.20">管理関数
<IndexTerm>
<Primary>カレンダ</Primary>
<Secondary>管理関数</Secondary>
</IndexTerm><IndexTerm>
<Primary>管理関数、カレンダ</Primary>
</IndexTerm></Title>
<Para>この節では、CDEでサポートされる管理関数について説明します。
詳しくは、関連するマニュアル・ページを参照してください。</Para>
<ItemizedList Remap="Bullet1">
<ListItem>
<Para>解放 - カレンダ・サービスによって割り当てられたメモリを解放します。</Para>
<ProgramListing>CSA_return_code
csa_free(
  CSA_buffer      memory
);</ProgramListing>
</ListItem>
<ListItem>
<Para>カレンダのリスト - カレンダ・サーバによってサポートされるカレンダをリストします。</Para>
<ProgramListing>CSA_return_code
csa_list_calendars(
  CSA_service_reference   calendar_service,
  CSA_uint32              *number_names,
  CSA_calendar_user       **calendar_names,
  CSA_extension           *list_calendars_extensions
);</ProgramListing>
<Para>サーバが実行しているホスト名を<Filename>calendar_server</Filename>で渡さなければなりません。</Para>
</ListItem>
<ListItem>
<Para>ログイン - カレンダ・サービスにログインして、カレンダとのセッションを確立します。</Para>
<ProgramListing>CSA_return_code
csa_logon(
  CSA_service_reference  calendar_service,
  CSA_calendar_user      *user,
  CSA_string             password,
  CSA_string             character_set,
  CSA_string             required_csa_version,
  CSA_session_handle     *session,
  CSA_extension          *logon_extensions
);</ProgramListing>
<Para>引き数<Command>calendar_service,password, character_set</Command>、
および<Filename>required_csa_version</Filename>は使用されません。</Para>
<Para><Command>user</Command>によって指し示される
<Filename>CSA_calendar_user</Filename>構造体の
<Command>calendar_address</Command>フィールドは、ログインするカレンダを指定します。形式は<Filename>calendar@location</Filename>です。
<Command>calendar</Command>はカレンダの名前であり、
<Command>location</Command>はカレンダが格納されているホスト名です。</Para>
<Para>CDE 定義済み拡張<Command>CSA_X_DT_GET_USER_ACCESS_EXT</Command>がサポートされます。
この拡張を使うと、呼び出しているユーザがカレンダに関して持っているアクセスの権利を取り出すことができます。
ユーザのアクセスの権利は、拡張構造体の
<Filename>item_data</Filename>フィールドで返されます。</Para>
</ListItem>
<ListItem>
<Para>ログアウト - カレンダとのセッションを終了します。</Para>
<ProgramListing>CSA_return_code
csa_logoff(
  CSA_session_handle     session,
  CSA-extension     *logoff_extensions
);</ProgramListing>
</ListItem>
<ListItem>
<Para>構成の問い合わせ - インストールされたCSA構成に関する情報を判断します。</Para>
<ProgramListing>CSA_return_code
csa_query_configuration(
        CSA_session_handle      session,
        CSA_enum                item,
        CSA_buffer              *reference,
        CSA_extension           *query_configuration_extensions
);</ProgramListing>
<Para>CDEでは、以下の項目はサポートされません。</Para>
<Para><Filename>CSA_CONFIG_CHARACTER_SET</Filename></Para>
<Para><Filename>CSA_CONFIG_LINE_TERM</Filename></Para>
<Para><Filename>CSA_CONFIG_VER_IMPLEM</Filename></Para>
</ListItem>
</ItemizedList>
</Sect1>
<Sect1 Id="PG.calmg.div.25">
<Title Id="PG.calmg.mkr.21">カレンダ管理関数
<IndexTerm>
<Primary>カレンダ</Primary>
<Secondary>カレンダ管理関数</Secondary>
</IndexTerm><IndexTerm>
<Primary>管理関数、カレンダ</Primary>
</IndexTerm></Title>
<Para>この節では、CDEでサポートされるカレンダ管理関数について説明します。
詳しくは、関連するマニュアル・ページを参照して下さい。</Para>
<ItemizedList Remap="Bullet1">
<ListItem>
<Para>カレンダの追加 - カレンダ・サービスにカレンダを追加します。</Para>
<ProgramListing>CSA_return_code
csa_add_calendar(
        CSA_session_handle      session,
        CSA_calendar_user       *user,
        CSA_uint32              number_attributes,
        CSA_attribute           *calendar_attributes,
        CSA_extension           *add_calendar_extensions
);</ProgramListing>
<Para>最初の引き数<Command>session</Command>は無視されます。</Para>
<Para><Command>user</Command>によって示される
<Command>CSA_calendar_user</Command>構造体の
<Filename>calendar_address</Filename>フィールドは、作成されるカレンダの名前と位置を指定します。形式は<Filename>calendar@location</Filename>です。
<Command>calendar</Command>はカレンダの名前であり、
<Command>location</Command>はカレンダが格納されるホスト名です。
たとえば、<Filename>my_calendar@my_host</Filename>のようになります。</Para>
</ListItem>
<ListItem>
<Para>コールバックの呼び出し - 指定されたコールバック・リストに関連するコールバック関数を強制的に呼び出します。</Para>
<ProgramListing>CSA_return_code
csa_call_callbacks(
  CSA_session_handle      session,
  CSA_flags      reason,
  CSA_extension      *call_callbacks_extensions
);</ProgramListing>
</ListItem>
<ListItem>
<Para>カレンダの削除 - カレンダ・サービスからカレンダを削除します。</Para>
<ProgramListing>CSA_return_code
csa_delete_calendar(
  CSA_session_handle      session,
  csa_extension      *delete_calendar_extensions
);</ProgramListing>
</ListItem>
<ListItem>
<Para>カレンダ属性のリスト - カレンダに関連するカレンダ属性の名前をリストします。</Para>
<ProgramListing>CSA_return_code
csa_list_calendar_attributes(
  CSA_session_handle      session,
  CSA_uint32      *number_names,
  CSA_attribute_reference **calendar_attributes_names,
  CSA_extension      *list_calendar_attributes_extensions
);</ProgramListing>
</ListItem>
<ListItem>
<Para>カレンダ属性の読み取り - カレンダのカレンダ属性値を読み取り、それを返します。</Para>
<ProgramListing>CSA_return_code
csa_read_calendar_attributes(
  CSA_session_handle      session,
  CSA_uint32              number_names,
  CSA_attribute_reference *attribute_names,
  CSA_uint32              *number_attributes,
  CSA_attribute           **calendar_attributes,
  CSA_extension      *read_calendar_attributes_extensions
);</ProgramListing>
</ListItem>
<ListItem>
<Para>コールバック関数の登録 - カレンダの中で、指定された種類の更新が行われるときに実行されるコールバック関数を登録します。</Para>
<ProgramListing>CSA_return_code
csa_register_callback(
  CSA_session_handle     session,
  CSA_flags              reason,
  CSA_callback           callback,
  CSA_buffer             client_data,
  CSA_extension          *register_callback_extensions
);</ProgramListing>
</ListItem>
<ListItem>
<Para>コールバック関数の登録解除 - 指定されたコールバック関数の登録を解除します。</Para>
<ProgramListing>CSA_return_code
csa_unregister_callback(
  CSA_session_handle     session,
  CSA_flags              reason,
  CSA_callback           callback,
  CSA_buffer             client_data,
  CSA_extension          *unregister_callback_extensions
);</ProgramListing>
</ListItem>
<ListItem>
<Para>カレンダ属性の更新 - カレンダのカレンダ属性値を更新します。</Para>
<ProgramListing>CSA_return_code
csa_update_calendar_attributes(
  CSA_session_handle     session,
  CSA_uint32     number_attributes,
  CSA_attribute     *calendar_attributes,
  CSA_extension      *update_calendar_attributes_extensions
);</ProgramListing>
</ListItem>
</ItemizedList>
</Sect1>
<Sect1 Id="PG.calmg.div.26">
<Title Id="PG.calmg.mkr.22">項目管理関数
<IndexTerm>
<Primary>カレンダ</Primary>
<Secondary>項目管理関数</Secondary>
</IndexTerm><IndexTerm>
<Primary>項目管理関数、カレンダ</Primary>
</IndexTerm></Title>
<Para>この節では、CDEでサポートされる項目管理関数について説明します。
詳しくは、関連するマニュアル・ページを参照して下さい。</Para>
<ItemizedList Remap="Bullet1">
<ListItem>
<Para>項目の追加 - 指定されたカレンダに項目を追加します。</Para>
<ProgramListing>CSA_return_code
csa_add_entry(
  CSA_session_handle      session,
  CSA_uint32      number_attributes,
  CSA_attribute      *entry_attributes,
  CSA_entry_handle      *entry,
  CSA_extension      *add_entry_extensions
);</ProgramListing>
</ListItem>
<ListItem>
<Para>項目の削除 - 指定されたカレンダから項目を削除します。</Para>
<ProgramListing>CSA_return_code
csa_delete_entry(
        CSA_session_handle      session,
        CSA_entry_handle        entry,
        CSA_enum                delete_scope,
        CSA_extension           *delete_entry_extensions
);</ProgramListing>
</ListItem>
<ListItem>
<Para>項目のリスト - 属性検索基準のすべてに一致するカレンダ項目をリストします。</Para>
<ProgramListing>CSA_return_code
csa_list_entries(
        CSA_session_handle      session,
        CSA_uint32              number_attributes,
        CSA_attribute           *entry_attributes,
        CSA_enum                *list_operators,
        CSA_uint32              *number_entries,
        CSA_entry_handle        **entries,
        CSA_extension           *list_entries_extensions
);</ProgramListing>
<Para><Filename>list_operators</Filename>で指定される演算子について、さらに詳しく説明します。</Para>
<Para>属性値の型<Filename>CSA_VALUE_REMINDER</Filename>、
<Filename>CSA_VALUE_CALENDAR_USER</Filename>、および
<Filename>CSA_VALUE_DATE_TIME_RANGE</Filename>については、
演算子<Filename>CSA_MATCH_ANY</Filename>と
<Filename>CSA_MATCH_EQUAL_TO</Filename>だけがサポートされます。</Para>
<Para>属性値の型<Filename>CSA_VALUE_STRING</Filename>については、
演算子<Filename>CSA_MATCH_ANY</Filename>、
<Filename>CSA_MATCH_EQUAL_TO</Filename>、
<Filename>CSA_MATCH_NOT_EQUAL_TO</Filename>、および
<Command>CSA_MATCH_CONTAIN</Command>だけがサポートされます。
<Filename>CSA_MATCH_CONTAIN</Filename>は、
<Filename>CSA_VALUE_STRING</Filename>型の属性にだけ適用されます。</Para>
<Para>値の型が<Filename>CSA_VALUE_OPAQUE_DATA</Filename>、
<Command>CSA_VALUE_ACCESS_LIST,CSA_VALUE_ATTENDEE_LIST</Command>、および
<Filename>CSA_VALUE_DATE_TIME_LIST</Filename>の属性の照合はサポートされません。
唯一の例外は、属性<Filename>CSA_ENTRY_ATTR_REFERENCE_IDENTIFIER</Filename>です。演算子<Filename>CSA_MATCH_EQUAL_TO</Filename>は、この属性に対してサポートされます。</Para>
</ListItem>
<ListItem>
<Para>項目属性のリスト - 指定された項目に関連する項目属性の名前をリストします。</Para>
<ProgramListing>CSA_return_code
csa_list_entry_attributes(
  CSA_session_handle       session,
      CSA_entry_handle       entry,
  CSA_uint32       *number_names,
  CSA_attribute_reference       **entry_attribute_names,
  CSA_extension       *list_entry_attributes_extensions
);</ProgramListing>
</ListItem>
<ListItem>
<Para>項目シーケンスのリスト - カレンダ項目に関連する再帰的カレンダ項目をリストします。</Para>
<ProgramListing>CSA_return_code
csa_list_entry_sequence(
  CSA_session_handle      session,
  CSA_entry_handle      entry,
  CSA_date_time_range      time_range,
  CSA_uint32      *number_entries,
  CSA_entry_handle      **entry_list,
  CSA_extension      *list_entry_sequences_extensions
);</ProgramListing>
<Para>指定された項目が一回限りの場合には、
<Filename>CSA_E_INVALID_PARAMETER</Filename>が返されます。</Para>
</ListItem>
<ListItem>
<Para>項目属性の読み取り - 指定された項目のカレンダ項目属性値を読み取り、それを返します。</Para>
<ProgramListing>CSA_return_code
csa_read_entry_attributes(
       CSA_session_handle        session,
       CSA_entry_handle        entry,
       CSA_uint32        number_names,
       CSA_attribute_reference *attribute_names,
       CSA_uint32        *number_attributes,
       CSA_attribute        **entry_attributes,
       CSA_extension        *read_entry_attributes_extensions
);</ProgramListing>
</ListItem>
<ListItem>
<Para>次の通知の読み取り - 特定の時間を基準として、指定されたカレンダの中の特定の種類の次の通知を読み取ります。</Para>
<ProgramListing>CSA_return_code
csa_read_next_reminder(
  CSA_session_handle      session,
  CSA_uint32      number_names,
  CSA_attribute_reference *reminder_names,
  CSA_date_time      given_time,
  CSA_uint32      *number_reminders,
  CSA_remainder_reference **reminder_references,
  CSA_extension      *read_next_reminder_extensions
);</ProgramListing>
</ListItem>
<ListItem>
<Para>項目属性の更新 - カレンダ項目属性を更新します。</Para>
<ProgramListing>CSA_return_code
csa_update_entry_attributes(
        CSA_session_handle        session,
        CSA_entry_handle        entry,
        CSA_enum        update_scope,
        CSA_boolean        update_propagation,
        CSA_uint32        number_attributes,
        CSA_attribute        *entry_attributes,
        CSA_entry_handle        *new_entry,
        CSA_extension        *update_entry_attributes_extensions
);</ProgramListing>
<Para>更新の伝達はサポートされません。
<Command>update_propagation</Command>引き数は
<Filename>CSA_FALSE</Filename>に設定して下さい。</Para>
</ListItem>
</ItemizedList>
</Sect1>
</Chapter>
<!--fickle 1.14 mif-to-docbook 1.7 01/02/96 09:54:57-->
